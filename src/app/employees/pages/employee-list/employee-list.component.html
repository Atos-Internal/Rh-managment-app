<div class="d-flex justify-content-center align-items-center">

 <!--  <div class="row pb-3">
    <h1 class="font-lexend" >Liste des employés</h1>
  </div> -->
 
 <div class="card mt-4">
  <div class="card-header">  
    <a class="btn btn-primary" routerLink="create-employee">Ajouter un/une employé(e) [+]</a>
  </div>
  
  <div class="mt-2 ml-3 mr-3">
    <b class=" mr-2">Filtrer la vue :</b>
    <ng-container *ngFor="let column of columnsVisibility">
      <input type="checkbox" [(ngModel)]="column.visible"> {{ column.label }}
    </ng-container>
  </div>

  <div class="card-body">
    
      <table datatable [dtOptions] ="dtoptions" [dtTrigger]="dtTrigger" class="table table-striped table-bordered">
          <thead class="bg-dark text-white">
              <tr>
                <td *ngFor="let column of columnsVisibility" [class.hidden]="!column.visible">{{ column.label }}</td>
          <!--         <td [class.hidden]="!showEmployeeId">Identifiant</td>
                  <td>DAS</td>
                  <td>CIN</td>
                  <td>Prénom</td>
                  <td>Nom</td>
                  <td>Numéro CNSS</td>
                  <td>Poste</td>
                  <td>Date d'intégration</td>
                  <td>Date de sortie</td>
                  <td>Salaire mensuel brut</td>
                  <td>Numéro de compte bancaire</td> -->
                  <td>Action</td>
              </tr>
          </thead>
          <tbody>
            <tr *ngFor="let employee of employees">
                <ng-container *ngFor="let column of columnsVisibility">
                  <td [class.hidden]="!column.visible">{{ getCellValue(employee, column.label) }}</td>
                </ng-container>
             <!--  <tr *ngFor="let employee of employees">
                  <td [class.hidden]="!showEmployeeId">{{employee.employeeId}}</td>
                  <td>{{employee.das}}</td>
                  <td>{{employee.cin}}</td>
                  <td>{{employee.firstName}}</td>
                  <td>{{employee.lastName}}</td>
                  <td>{{employee.cnssNumber}}</td>
                  <td>{{employee.position}}</td>
                  <td>{{employee.integrationDate}}</td>
                  <td>{{employee.releaseDate}}</td>
                  <td>{{employee.grossMonthlySalary}}</td>
                  <td>{{employee.bankAccountNumber}}</td> -->
                  <td>
                      <button (click)="onExportEmployee(employee.employeeId, employee.firstName, employee.lastName)" class="btn btn-primary">
                          Exporter
                      </button>
                     <button (click)="updateEmployee(employee.employeeId)" class="btn btn-custom-orange" style="margin-left:10px">
                           Modifier
                    </button> 
                    <!-- <a  [routerLink]="['update-employee', employee.employeeId]" class="btn btn-custom-orange" style="margin-left:10px">
                        Modifier</a> -->
                    
                  </td>
              </tr>
          </tbody>
      </table>
  </div>
</div>
</div>
 
  <!-- 
  <div class="px-5">
    <mat-grid-list cols="3" rowHeight="235px">
      <mat-grid-tile *ngFor="let node of employees" [colspan]="1" [rowspan]="1">
      </mat-grid-tile>
    </mat-grid-list>
  </div> -->

