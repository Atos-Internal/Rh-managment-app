<div class="d-flex justify-content-center align-items-center">

 <!--  <div class="row pb-3">
    <h1 class="font-lexend" >Liste des employés</h1>
  </div> -->
 
 <div class="card mt-4">
  <div *ngIf="userRoles.includes('ADMIN')" class="card-header">  
    <a class="btn btn-primary" routerLink="create-employee">Ajouter un/une employé(e) [+]</a>
    <a class="btn btn-primary" style="margin-left:10px" (click)="exportAttestations()">Exporter Attestations</a>
  </div>

  <div class="mt-2 ml-3 mr-3">
    <b class=" mr-2">outputStream la vue :</b>
    <ng-container *ngFor="let column of columnsVisibility">
      <input type="checkbox" [(ngModel)]="column.visible"> {{ column.label }}
    </ng-container>
  </div>

  <div class="card-body">
    
      <table datatable [dtOptions] ="dtoptions" [dtTrigger]="dtTrigger" class="table table-striped table-bordered">
          <thead class="bg-dark text-white">
              <tr>
                <td>Select</td>
                <td *ngFor="let column of columnsVisibility" [class.hidden]="!column.visible">{{ column.label }}</td>
                  <td>Action</td>
              </tr>
          </thead>
          <tbody>
            <tr *ngFor="let employee of employees">
              <td  style="margin: 0 auto; text-align: center;">
              <input type="checkbox" [(ngModel)]="employee.selected" >  
              </td>
                <ng-container  *ngFor="let column of columnsVisibility">
                  <td [class.hidden]="!column.visible">{{ getCellValue(employee, column.label) }}</td>
                </ng-container>
   
                  <td>
                      <button (click)="onExportEmployee(employee.employeeId, employee.firstName, employee.lastName)" class="btn btn-primary">
                          Exporter
                      </button>
                     <button *ngIf="userRoles.includes('ADMIN')" (click)="updateEmployee(employee.employeeId)" class="btn btn-custom-orange" style="margin-left:10px">
                           Modifier
                    </button>
            
                  </td>
              </tr>
          </tbody>
      </table>
  </div>
</div>
</div>

